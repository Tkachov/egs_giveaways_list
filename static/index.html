<!DOCTYPE html>
<html>
<head>
	<title>EGS Giveaways List</title>
	<meta charset="utf-8"/>
	<link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body>
	<div class="container">
		<div class="tabs">
			<a href="#_all_giveaways" class="tab selected">All giveaways</a>
			<a href="#_missed_games" class="tab dimmed">Missed games</a>
			<a href="#_taken_games" class="tab dimmed">Taken games</a>

			<a href="#_login" class="tab login" id="login_button">Login</a>
			<a href="#_logout" class="tab login hidden" id="logged_in_button"><span id="display_name"></span></a>
		</div>

		<div class="filters" id="filters_form">
			<input id="name_filter" type="text" value="" placeholder="Filter..."/>
		</div>

		<div id="all_giveaways" class="content open"></div>
		<div id="missed_games" class="content"></div>
		<div id="taken_games" class="content"></div>
		<div id="login" class="content">
			<div class="login_form">
				<p>To see which of the giveaway games you have missed, you can log in with Epic Games to this site.</p>

				<p>This might seem shady, but it's not. <a href="https://github.com/Tkachov/egs_giveaways_list">Read the source code</a> if you want. Or simply don't log in if you don't trust this.</p>

				<div class="column">
					<h1>Step 1</h1>

					<p>This button will open Epic Games log in form. After logging in, it will take you to the <b>https://www.epicgames.com/id/api/redirect</b> page, where <b>authorizationCode</b> value is displayed.</p>
					<a href="https://www.epicgames.com/id/login?redirectUrl=https%3A//www.epicgames.com/id/api/redirect%3FclientId%3D34a02cf8f4414e29b15921876da36f9a%26responseType%3Dcode" target="_blank" class="button">Log in with Epic Games</a>
				
					<h1>Step 2</h1>

					<p>Copy <b>authorizationCode</b> value here and press the button:</p>
					<input id="auth_code" type="text" value="" placeholder="authorizationCode"/>
					<span onclick="controller.login_accept_code();" class="button">Continue</span>
				</div>

				<p>You can revoke access at any time by pressing the "Close Other Sessions" button in "Password & Security" section of Epic Games account page.</p>

				<p>This uses the same method as open-source <a href="https://github.com/derrod/legendary">Legendary</a> launcher.</p>
			</div>
		</div>
		<div id="logout" class="content">
			<div class="logout_form">
				<a href="javascript:controller.logout();" class="button">Log out</a>
			</div>
		</div>
	</div>

	<div class="footer">
		<a href="http://tkachov.ru/" class="cutout_logo"><img src="images/logo.png" loading="eager"/></a>
		<a href="https://github.com/Tkachov/egs_giveaways_list" class="social GH_button"></a>
	</div>

	<script src="js/giveaways_list.js"></script>
	<script src="js/cached_metadata.js"></script>
	<script src="js/requests.js"></script>
	<script src="js/app.js"></script>
</body>
</html>
